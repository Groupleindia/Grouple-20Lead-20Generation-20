import { Home, FileCheck, PieChart, Settings } from "lucide-react";
import { cn } from "@/lib/utils";

interface SidebarProps {
  className?: string;
  isCollapsed?: boolean;
  onToggle?: () => void;
}

export function Sidebar({
  className,
  isCollapsed = false,
  onToggle,
}: SidebarProps) {
  return (
    <aside
      className={cn(
        "fixed left-0 top-0 h-screen border-r border-[#D5D5D5] bg-white overflow-auto transition-all duration-300",
        isCollapsed ? "w-[82px]" : "w-[245px]",
        className,
      )}
    >
      <div className="flex flex-col h-full">
        <div
          className={cn(
            "flex items-center justify-center",
            isCollapsed ? "p-4" : "p-5",
          )}
        >
          {isCollapsed ? (
            <div className="w-[50px] h-[50px] flex items-center justify-center border border-[#D5D5D5] rounded bg-white">
              <img
                src="https://api.builder.io/api/v1/image/assets/TEMP/1789b99063a750b9683e497b81501b53657f863c?width=84"
                alt="The Plaza"
                className="w-[42px] h-[23px] object-contain"
              />
            </div>
          ) : (
            <img
              src="https://api.builder.io/api/v1/image/assets/TEMP/bd7b775f66d46877e7c9356d907202c9d282b170?width=332"
              alt="The Plaza"
              className="h-12 object-contain"
            />
          )}
        </div>

        <div className="h-px bg-[#D5D5D5] mx-4" />

        <nav className="flex flex-col gap-3 mt-6 px-0">
          <a
            href="#"
            className={cn(
              "flex items-center border-l-4 border-[#4A6AFE] bg-[#EDF0FF] text-[#4B68FE]",
              isCollapsed
                ? "justify-center py-2.5 h-[42px]"
                : "gap-3 px-6 py-2.5",
            )}
          >
            <Home className="w-5 h-5" />
            {!isCollapsed && (
              <span className="text-sm font-medium">Dashboard</span>
            )}
          </a>

          <a
            href="#"
            className={cn(
              "flex items-center text-[#7C7C80] hover:bg-gray-50 transition-colors",
              isCollapsed
                ? "relative justify-center py-2.5"
                : "justify-between px-6 py-2.5"
            )}
          >
            <div
              className={cn(
                "flex items-center",
                isCollapsed ? "relative" : "gap-3"
              )}
            >
              <FileCheck className="w-5 h-5" />
              {!isCollapsed && (
                <span className="text-sm font-medium">Leads</span>
              )}
            </div>

            <div
              className={cn(
                "flex items-center justify-center bg-[#4B68FE] text-white text-[8px] font-medium rounded-full",
                isCollapsed
                  ? "absolute -top-1.5 -right-3 w-4 h-4 text-[10px]"
                  : "min-w-[20px] h-5 px-2 rounded text-xs"
              )}
            >
              2
            </div>
          </a>
          <a
            href="#"
            className={cn(
              "flex items-center text-[#7C7C80] hover:bg-gray-50 transition-colors",
              isCollapsed ? "justify-center py-2.5" : "gap-3 px-6 py-2.5",
            )}
          >
            <PieChart className="w-5 h-5" />
            {!isCollapsed && (
              <span className="text-sm font-medium">Analytics</span>
            )}
          </a>

          <a
            href="#"
            className={cn(
              "flex items-center text-[#7C7C80] hover:bg-gray-50 transition-colors",
              isCollapsed ? "justify-center py-2.5" : "gap-3 px-6 py-2.5",
            )}
          >
            <Settings className="w-5 h-5" />
            {!isCollapsed && (
              <span className="text-sm font-medium">Settings</span>
            )}
          </a>
        </nav>

        <div
          className={cn(
            "mt-auto border-t border-[#D5D5D5]",
            isCollapsed ? "px-3.5 py-5" : "px-6 py-5",
          )}
        >
          <div
            className={cn(
              "flex items-center",
              isCollapsed ? "justify-center" : "justify-between gap-12",
            )}
          >
            {!isCollapsed && (
              <svg
                width="100"
                height="28"
                viewBox="0 0 100 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clipPath="url(#clip0_726_2803)">
                  <path
                    d="M20.7246 7.26718L20.4757 5.69307H17.3516V19.3179H20.7246V12.13C20.7246 9.61629 22.355 8.67664 24.1258 8.67664C25.2301 8.67664 25.8686 8.98183 26.5593 9.56007L28.0812 6.6287C27.3343 5.8818 25.981 5.33167 24.5716 5.33167C23.1621 5.33167 21.7807 5.58063 20.7287 7.26718H20.7246Z"
                    fill="#4B68FE"
                  />
                  <path
                    d="M35.9145 5.4176C31.5737 5.4176 28.8672 8.62204 28.8672 12.5212C28.8672 16.4203 31.5215 19.6247 35.9426 19.6247C40.3638 19.6247 43.0462 16.4444 43.0462 12.5212C43.0462 8.59794 40.2554 5.4176 35.9145 5.4176ZM35.9426 16.5287C33.4811 16.5287 32.2403 14.5932 32.2403 12.5212C32.2403 10.4491 33.5132 8.48551 35.9426 8.48551C38.2074 8.48551 39.645 10.4732 39.645 12.5212C39.645 14.5691 38.4002 16.5287 35.9426 16.5287Z"
                    fill="#4B68FE"
                  />
                  <path
                    d="M55.5965 12.658C55.5965 14.73 54.187 16.4728 52.115 16.4728C50.0429 16.4728 48.8262 14.8987 48.8262 12.8226V5.69495H45.4531V12.8547C45.4531 17.0831 47.8303 19.5447 51.091 19.5447C52.9984 19.5447 54.2954 18.8821 55.7049 17.5008L55.9258 19.3519H58.9374V5.69495H55.5925V12.658H55.5965Z"
                    fill="#4B68FE"
                  />
                  <path
                    d="M69.9739 5.39026C68.4279 5.39026 66.6008 6.05283 65.5528 7.57473L65.3319 5.69544H62.1797V25.0144H65.5528V17.7181C66.5205 19.2119 68.6488 19.6536 70.0864 19.6536C74.4553 19.6536 76.9691 16.5014 76.9691 12.5219C76.9691 8.54249 74.1782 5.39026 69.9779 5.39026H69.9739ZM69.725 16.3889C67.4321 16.3889 65.8539 14.6462 65.8539 12.5179C65.8539 10.3897 67.2915 8.64689 69.725 8.64689C72.1584 8.64689 73.596 10.3897 73.596 12.5179C73.596 14.6462 72.0219 16.3889 69.725 16.3889Z"
                    fill="#4B68FE"
                  />
                  <path
                    d="M83.1028 -0.000366211H79.7578V19.3186H83.1028V-0.000366211Z"
                    fill="#4B68FE"
                  />
                  <path
                    d="M93.0526 5.27698C88.6314 5.27698 85.8125 8.26055 85.8125 12.4086C85.8125 16.7776 88.6033 19.6768 93.3016 19.6768C95.3736 19.6768 97.7227 18.9581 99.1603 17.4643L97.0039 15.336C96.2289 16.1391 94.5986 16.6089 93.3538 16.6089C90.9765 16.6089 89.5108 15.3922 89.29 13.7057H99.9313C100.457 8.09591 97.6103 5.27698 93.0486 5.27698H93.0526ZM89.3502 10.9149C89.8482 9.148 91.342 8.26055 93.165 8.26055C95.1005 8.26055 96.4819 9.14398 96.7028 10.9149H89.3502Z"
                    fill="#4B68FE"
                  />
                  <path
                    d="M14.9502 3.15393H11.5812C11.5812 4.43089 10.5411 5.47092 9.26416 5.47092C8.51325 5.17377 7.7021 5.09747 6.903 5.09747C3.0882 5.09747 -0.0078125 7.75177 -0.0078125 12.0083C-0.0078125 16.2648 2.64649 18.8629 6.903 18.8629C8.58954 18.8629 10.3564 19.7182 10.3564 21.5975C10.3564 23.4768 8.8345 24.5289 6.903 24.5289C4.97151 24.5289 3.33717 23.3684 3.33717 21.5975H-0.0078125C-0.0078125 25.2717 2.94765 27.6771 6.903 27.6771C10.8583 27.6771 13.7295 25.3561 13.7295 21.5975C13.7295 19.8547 13.1753 18.2244 10.9106 17.092C13.1472 16.068 13.7857 13.6908 13.7857 12.0083C13.7857 10.5145 13.4002 9.16124 12.3481 7.97263L12.3682 7.90838C13.9222 6.89244 14.9542 5.14566 14.9542 3.15393H14.9502ZM6.903 15.795C4.93938 15.795 3.33717 14.3855 3.33717 12.0083C3.33717 9.63106 4.93938 8.16538 6.903 8.16538C8.86662 8.16538 10.4407 9.65917 10.4407 12.0083C10.4407 14.3574 8.83851 15.795 6.903 15.795Z"
                    fill="#4B68FE"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_726_2803">
                    <rect width="100" height="27.6794" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            )}

            <button
              onClick={onToggle}
              className="flex items-center justify-center w-6 h-6 p-1 border border-[#D5D5D5] rounded-lg hover:bg-gray-100 transition-colors flex-shrink-0"
            >
              {isCollapsed ? (
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 14 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M1.3125 7C1.3125 6.88397 1.35859 6.77269 1.44064 6.69064C1.52269 6.60859 1.63397 6.5625 1.75 6.5625L9.00648 6.5625L5.81547 3.37203C5.77482 3.33138 5.74258 3.28313 5.72058 3.23002C5.69858 3.17691 5.68726 3.11999 5.68726 3.0625C5.68726 3.00501 5.69858 2.94809 5.72058 2.89498C5.74258 2.84187 5.77482 2.79362 5.81547 2.75297C5.85612 2.71232 5.90437 2.68008 5.95748 2.65808C6.01059 2.63608 6.06751 2.62476 6.125 2.62476C6.18249 2.62476 6.23941 2.63608 6.29252 2.65808C6.34563 2.68008 6.39388 2.71232 6.43453 2.75297L10.372 6.69047C10.4127 6.7311 10.445 6.77935 10.467 6.83246C10.489 6.88558 10.5003 6.94251 10.5003 7C10.5003 7.05749 10.489 7.11442 10.467 7.16754C10.445 7.22065 10.4127 7.2689 10.372 7.30953L6.43453 11.247C6.39388 11.2877 6.34563 11.3199 6.29252 11.3419C6.23941 11.3639 6.18249 11.3752 6.125 11.3752C6.06751 11.3752 6.01059 11.3639 5.95748 11.3419C5.90437 11.3199 5.85612 11.2877 5.81547 11.247C5.77482 11.2064 5.74258 11.1581 5.72058 11.105C5.69858 11.0519 5.68726 10.995 5.68726 10.9375C5.68726 10.88 5.69858 10.8231 5.72058 10.77C5.74258 10.7169 5.77482 10.6686 5.81547 10.628L9.00648 7.4375L1.75 7.4375C1.63397 7.4375 1.52269 7.39141 1.44064 7.30936C1.35859 7.22731 1.3125 7.11603 1.3125 7ZM11.8125 12.25C11.9285 12.25 12.0398 12.2039 12.1219 12.1219C12.2039 12.0398 12.25 11.9285 12.25 11.8125L12.25 2.1875C12.25 2.07147 12.2039 1.96019 12.1219 1.87814C12.0398 1.79609 11.9285 1.75 11.8125 1.75C11.6965 1.75 11.5852 1.79609 11.5031 1.87814C11.4211 1.96019 11.375 2.07147 11.375 2.1875L11.375 11.8125C11.375 11.9285 11.4211 12.0398 11.5031 12.1219C11.5852 12.2039 11.6965 12.25 11.8125 12.25Z"
                    fill="#242426"
                  />
                </svg>
              ) : (
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 14 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12.6875 7C12.6875 7.11603 12.6414 7.22731 12.5594 7.30936C12.4773 7.39141 12.366 7.4375 12.25 7.4375H4.99352L8.18453 10.628C8.22518 10.6686 8.25742 10.7169 8.27942 10.77C8.30142 10.8231 8.31274 10.88 8.31274 10.9375C8.31274 10.995 8.30142 11.0519 8.27942 11.105C8.25742 11.1581 8.22518 11.2064 8.18453 11.247C8.14388 11.2877 8.09563 11.3199 8.04252 11.3419C7.98941 11.3639 7.93249 11.3752 7.875 11.3752C7.81751 11.3752 7.76059 11.3639 7.70748 11.3419C7.65437 11.3199 7.60612 11.2877 7.56547 11.247L3.62797 7.30953C3.58729 7.2689 3.55502 7.22065 3.53301 7.16754C3.51099 7.11442 3.49966 7.05749 3.49966 7C3.49966 6.94251 3.51099 6.88558 3.53301 6.83246C3.55502 6.77935 3.58729 6.7311 3.62797 6.69047L7.56547 2.75297C7.60612 2.71232 7.65437 2.68008 7.70748 2.65808C7.76059 2.63608 7.81751 2.62476 7.875 2.62476C7.93249 2.62476 7.98941 2.63608 8.04252 2.65808C8.09563 2.68008 8.14388 2.71232 8.18453 2.75297C8.22518 2.79362 8.25742 2.84187 8.27942 2.89498C8.30142 2.94809 8.31274 3.00501 8.31274 3.0625C8.31274 3.11999 8.30142 3.17691 8.27942 3.23002C8.25742 3.28313 8.22518 3.33138 8.18453 3.37203L4.99352 6.5625H12.25C12.366 6.5625 12.4773 6.60859 12.5594 6.69064C12.6414 6.77269 12.6875 6.88397 12.6875 7ZM2.1875 1.75C2.07147 1.75 1.96019 1.79609 1.87814 1.87814C1.79609 1.96019 1.75 2.07147 1.75 2.1875V11.8125C1.75 11.9285 1.79609 12.0398 1.87814 12.1219C1.96019 12.2039 2.07147 12.25 2.1875 12.25C2.30353 12.25 2.41481 12.2039 2.49686 12.1219C2.57891 12.0398 2.625 11.9285 2.625 11.8125V2.1875C2.625 2.07147 2.57891 1.96019 2.49686 1.87814C2.41481 1.79609 2.30353 1.75 2.1875 1.75Z"
                    fill="#242426"
                  />
                </svg>
              )}
            </button>
          </div>
        </div>
      </div>
    </aside>
  );
}
